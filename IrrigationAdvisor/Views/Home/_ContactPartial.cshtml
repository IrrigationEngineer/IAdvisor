
<div class="row">
    <div class="col-md-7">
        <h3 class="md">Enviar mensaje</h3>
        <div id="contact-form-wrap">
            <span class="c-note"></span>
            <div class="contact-left">
                <p class="input-block clearfix">
                    <label class="required" for="contact_name"><span>*</span></label>
                    <input class="valid" type="text" name="name"  placeholder="Nombre" id="contact_name" value="">
                </p>
                <p class="input-block">
                    <label class="required" for="contact_email"><span>*</span></label>
                    <input type="email" placeholder="Email" class="valid" name="email" id="contact_email" value="">
                </p>
            </div><!--end:contact-left-->
            <div class="contact-right">
                <p class="textarea-block">
                    <label class="required" for="contact_message"><span>*</span></label>
                    <textarea rows="4" placeholder="Mensaje" cols="60" id="contact_message" name="message"></textarea>
                </p>
            </div><!--end:contact-right-->
            <div class="clear"></div>
            <p class="contact-button clearfix">
                <button id="btnEmail" class="btn btn-success">Enviar mensaje</button>
            </p>
            <div class="clear"></div>
        </div><!--contact-form-wrap-->
    </div>
</div>
<div class="row">
    <div class="col-md-5">

    </div>
    <div class="col-md-7">
        <div class="alert alert-success fade in" id="AlertMessageOk">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Mensaje enviado</strong>
        </div>
        <div class="alert alert-danger fade in" id="AlertMessageError">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <strong>Ha ocurrido un error al enviar el mensaje</strong>
        </div>
    </div>
</div>


<script>

    $('#AlertMessageOk').hide();
    $('#AlertMessageError').hide();

    $('#btnEmail').click(function (e) {
        e.preventDefault(); // <------------------ stop default behaviour of button
        var element = this;

        var contact_email = $("#contact_email").val()
        var contact_message = $("#contact_message").val()
        var contact_name = $("#contact_name").val();

        var subject = 'Contacto desde página';
        $.ajax({
            url: '/Home/SendEmails?subject=' + subject + ' de ' + contact_name + '&body=' + contact_message + '\n Email de contacto: ' + contact_email,
            type: "GET",
            //data: '{"subject":"' + contact_email + ' | ' ,
            dataType: "json",
            traditional: true,
            contentType: "application/json; charset=utf-8",
            success: function() {
                    alert("Done");
            },
            error: function () {
                alert("An error has occured!!!");
            }
        });
    });

</script>
